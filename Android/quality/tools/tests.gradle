import java.util.regex.Pattern

//Helper pra incrementar a vers√£o do app
task updateVersionCode {

    doLast {
        def gradleFile = file('build.gradle')

        def pattern = Pattern.compile("versionCode (\\d+)")
        def matcher = pattern.matcher(gradleFile.getText())

        if (!matcher.find()) {
            println "No versionCode found in build.gradle"
            return
        }

        def versionCode = Integer.parseInt(matcher.group(1))

        gradleFile.write(matcher.replaceAll("versionCode " + ++versionCode))
    }
}